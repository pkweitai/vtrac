<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Market Radar</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="topbar">
    <h1>Market Radar</h1>
    <div class="meta">
      <span id="asof">As of â€”</span>
      <button id="themeBtn" title="Toggle theme">ðŸŒ“</button>
    </div>
  </header>

  <section class="toolbar">
    <input id="q" type="search" placeholder="Search symbol or nameâ€¦" />
    <select id="sector"><option value="">All sectors</option></select>
    <select id="sort">
      <option value="symbol">Symbol</option>
      <option value="price">Price</option>
      <option value="ret1d" selected>% 1d</option>
      <option value="ret5d">% 5d</option>
      <option value="rsi_ui">RSI</option>
      <option value="sharpe_ui">Sharpe</option>
      <option value="vol_z">Vol Z</option>
      <option value="iv30">IV30</option>
      <option value="iv_rank_ui">IV Rank</option>
      <option value="iv_pct_ui">IV %ile</option>
      <option value="pe_ttm">P/E</option>
      <option value="pb">P/B</option>
      <option value="div_yield">Div%</option>
      <option value="mcap">MktCap</option>
      <option value="beta">Beta</option>
      <option value="news_24h">News</option>
    </select>
    <select id="dir">
      <option value="desc" selected>Desc</option>
      <option value="asc">Asc</option>
    </select>
  </section>

  <!-- Dynamic computation windows -->
  <section class="toolbar sub">
    <label>RSI win
      <select id="rsiWin">
        <option>14</option><option>21</option><option selected>30</option><option>50</option>
      </select>
    </label>
    <label>Sharpe lookback
      <select id="sharpeWin">
        <option>60</option><option selected>120</option><option>180</option><option>252</option><option>360</option>
      </select>
    </label>
    <label>IV window
      <select id="ivWin">
        <option>90</option><option selected>180</option><option>252</option><option>360</option>
      </select>
    </label>
  </section>

  <div class="scrollbar">
    <button id="scrollLeft" title="Scroll left">â—€</button>
    <div class="table-wrap" id="tableWrap">
      <table>
        <thead>
          <tr>
            <th class="stick-l">â–¸</th>
            <th class="stick-l">Symbol</th>
            <th class="hide-sm">Name</th>
            <th class="hide-sm">Sector</th>
            <th class="num">Price</th>
            <th class="num">% 1d</th>
            <th class="num hide-sm">% 5d</th>
            <th class="num">RSI</th>
            <th class="num">Sharpe</th>
            <th class="num">Vol Z</th>
            <th class="num">IV30</th>
            <th class="num">IV Rank</th>
            <th class="num">IV %ile</th>
            <th class="num hide-sm">P/E</th>
            <th class="num hide-sm">P/B</th>
            <th class="num hide-sm">Div%</th>
            <th class="num hide-sm">MktCap</th>
            <th class="num hide-sm">Beta</th>
            <th class="num">30d</th>
          </tr>
        </thead>
        <tbody id="rows"></tbody>
      </table>
    </div>
    <button id="scrollRight" title="Scroll right">â–¶</button>
  </div>

  <footer class="foot">
    <span id="meta"></span>
    <span class="spacer"></span>
    <a href="data/snapshot.json" target="_blank" rel="noopener">raw JSON</a>
    <span class="spacer"></span>
    <a href="data/iv_history.json" target="_blank" rel="noopener">iv history</a>
  </footer>

  <!-- bump version to bust cache when you deploy -->
  <script src="app.js?v=win3" defer></script>
</body>
</html>
